<div>
    <button id="dnn-mdt-enableButton" type="button">[Resx:{key:"Enable"}]</button>
    <button id="dnn-mdt-disableButton" type="button">[Resx:{key:"Disable"}]</button>
    <div class="dnn-mdt-checkbox">
        <input type="checkbox" id="dnn-mdt-enableCheckbox">
        <label for="dnn-mdt-enableCheckbox" class="dnn-mdt-copy">Enable DNN Dev Tools</label>
    </div>
</div>

<div>
    <p class="dnn-mdt-copy">Mail Catch</p>
    <button id="dnn-mdt-sendMailButton" type="button">[Resx:{key:"SendMail"}]</button>
    <button id="dnn-mdt-enableMailCatchButton" type="button">[Resx:{key:"EnableMailCatch"}]</button>
    <button id="dnn-mdt-disableMailCatchButton" type="button">[Resx:{key:"DisableMailCatch"}]</button>
</div>

<div>
    <p class="dnn-mdt-copy">Event catch</p>
    <button id="dnn-mdt-enableEventCatchButton" type="button">Enable event catch</button>
    <button id="dnn-mdt-disableEventCatchButton" type="button">Disable event catch</button>
</div>

<div>
    <p class="dnn-mdt-copy">Log level</p>
    <select name="" id="dnn-mdt-logLevelSelect">
        <option value="ALL">all</option>
        <option value="DEBUG">debug</option>
        <option value="INFO">info</option>
        <option value="WARN">warning</option>
        <option value="ERROR">error</option>
        <option value="FATAL">fatal</option>
    </select>
</div>

<script>
    (function () {
        var enableCheckbox = document.getElementById('dnn-mdt-enableCheckbox'),
            enableButton = document.getElementById('dnn-mdt-enableButton'),
            disableButton = document.getElementById('dnn-mdt-disableButton'),
            enableMailCatchButton = document.getElementById('dnn-mdt-enableMailCatchButton'),
            disableMailCatchButton = document.getElementById('dnn-mdt-disableMailCatchButton'),
            enableEventCatchButton = document.getElementById('dnn-mdt-enableEventCatchButton'),
            disableEventCatchButton = document.getElementById('dnn-mdt-disableEventCatchButton'),
            logLevelSelect = document.getElementById('dnn-mdt-logLevelSelect'),
            sendMailButton = document.getElementById('dnn-mdt-sendMailButton');
/*
        // set current status
        enableCheckbox.checked = window.dnnDevTools.enable;
console.log('=>', window.dnnDevTools.enable);
        enableCheckbox.addEventListener('change', function (event) {
            // enableCheckbox.checked ? setStatus(true) : setStatus(false);
            console.log('> ', enableCheckbox.checked);
            if (enableCheckbox.checked) {
                console.log('true');
                setStatus(true);
            } else {
                console.log('false');
                setStatus(false)
            }
        }, false);
*/

        enableButton.addEventListener('click', function () {
            setStatus(true);
        }, false);

        disableButton.addEventListener('click', function () {
            setStatus(false);
        }, false);

        enableMailCatchButton.addEventListener('click', function () {
            setMailCatchStatus(true);
        }, false);

        disableMailCatchButton.addEventListener('click', function () {
            setMailCatchStatus(false);
        }, false);

        sendMailButton.addEventListener('click', function () {
            sendMail();
        }, false);

        enableEventCatchButton.addEventListener('click', function () {
            setEventCatchStatus(true);
        }, false);

        disableEventCatchButton.addEventListener('click', function () {
            setEventCatchStatus(false);
        }, false);

        logLevelSelect.addEventListener('change', function () {
            setLogLevel(logLevelSelect.value);
        });

        function setStatus(isEnabled) {
            dnnMdt.ajax('PUT', window.dnnDevTools.baseUrl + 'api/config/enable?status=' + isEnabled).then(
                function (response) {
                    // window.location.reload(false);
                }, function (error) {
                    // TODO show error
                }
            );
        }

        function setMailCatchStatus(isEnabled) {
            dnnMdt.ajax('PUT', window.dnnDevTools.baseUrl + 'api/config/enableMailCatch?status=' + isEnabled).then(
                function (response) {
                    console.log(response);
                }, function (error) {
                    // TODO show error
                }
            );
        }

        function setEventCatchStatus(isEnabled) {
            dnnMdt.ajax('PUT', window.dnnDevTools.baseUrl + 'api/config/enableDnnEventCatch?status=' + isEnabled).then(
                function (response) {
                    console.log(response);
                }, function (error) {
                    // TODO show error
                }
            );
        }

        function sendMail() {
            dnnMdt.ajax('POST', window.dnnDevTools.baseUrl + 'api/mail/sendMail').then(
                function (response) {
                    console.log(response);
                }, function (error) {
                    // TODO show error
                }
            );
        }

        function setLogLevel(level) {
            dnnMdt.ajax('PUT', window.dnnDevTools.baseUrl + 'api/config/setLogMessageLevel?level=' + level).then(
                function (response) {
                    console.log(response);
                }, function (error) {
                    // TODO show error
                }
            );
        }
    }());
</script>